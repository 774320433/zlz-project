# 微信支付

## 通用参数

- 公众号id : appid
- 商户号id : mch_id

## 支付模式

### 付款码支付

### Native支付

- 模式一
    - 1. 生成微信付款二维码
    - 2. 客户端打开微信扫码，提交信息
    - 3. 回调商户设置的URL（openid,productid）
    - 4. 响应请求，生产商户订单
    - 5. 调统一下单API, 请求生成预付交易
    - 6. 微信支付系统生成预支付交易
    - 7. 商户系统接收会话标识（preapy_id）
    - 8. 商户系统响应回调URL请求，返回（preapy_id）
    - 9. 微信支付系统返回需要用户授权支付
    - 10. 用户输入密码，确认支付
    - 11. 微信系统验证完后扣款。
    - 12. 微信系统完成支付交易后，通过统一下单API回调 notify_url 的地址
    - 13. 商户系统接收到 notify_url 的回调后更新订单
    - 14. 未收到支付通知的情况下, 商户系统系调用API查询订单
    
### JSAPI支付

### APP支付

### H5支付

### 小程序支付
